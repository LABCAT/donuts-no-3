{"version":3,"sources":["js/PlayIcon.js","js/globals.js","audio/donuts-no-3.ogg","js/cueSet1.js","js/P5Sketch.js","js/App.js","index.js"],"names":["PlayIcon","id","xmlns","height","viewBox","width","d","fill","Component","window","p5","cueSet1","P5Sketch","Sketch","canvas","framesPerSecond","canvasWidth","innerWidth","canvasHeight","innerHeight","song","tempo","time","previousBeat","cueSet1Completed","circleSize","circleSizeDivider","hueIncrementor","hueIncrementorValues","preload","loadSound","audio","setup","frameRate","colorMode","HSB","createCanvas","smooth","noFill","strokeWeight","i","length","vars","currentCue","duration","midi","addCue","executeCueSet1","includes","push","clear","draw","currentBeat","getSongBeat","isPlaying","background","hue","x","y","stroke","xAngle","map","PI","yAngle","angle","myX","cos","myY","sin","ellipse","beatPerBar","buffer","barAsBufferLength","sampleRate","Math","floor","_lastPos","getSongBar","mousePressed","pause","document","getElementById","classList","add","addClass","play","updateCanvasDimensions","redraw","attachEvent","addEventListener","useEffect","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.4adb6c1a.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass PlayIcon extends Component {\n\n    render() {\n\n        return (\n            <svg id=\"play-icon\" xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n                <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n                <path d=\"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n            </svg>\n        )\n    }\n}\n\nexport default PlayIcon;\n","import * as p5 from \"p5\";\nwindow.p5 = p5;","export default __webpack_public_path__ + \"static/media/donuts-no-3.317cd796.ogg\";","const cueSet1 = [\n    {\n          \"name\": \"C4\",\n          \"midi\": 60,\n          \"time\": 0,\n          \"velocity\": 0.7874015748031497,\n          \"duration\": 9.896896\n        },\n        {\n          \"name\": \"C4\",\n          \"midi\": 60,\n          \"time\": 9.896896,\n          \"velocity\": 0.7874015748031497,\n          \"duration\": 9.896896\n        },\n        {\n          \"name\": \"C4\",\n          \"midi\": 60,\n          \"time\": 19.793792,\n          \"velocity\": 0.7874015748031497,\n          \"duration\": 9.896896000000002\n        },\n        {\n          \"name\": \"C4\",\n          \"midi\": 60,\n          \"time\": 29.690688,\n          \"velocity\": 0.7874015748031497,\n          \"duration\": 9.896895999999998\n        },\n        {\n          \"name\": \"C4\",\n          \"midi\": 60,\n          \"time\": 39.587584,\n          \"velocity\": 0.7874015748031497,\n          \"duration\": 9.896895999999998\n        },\n        {\n          \"name\": \"C4\",\n          \"midi\": 60,\n          \"time\": 49.48448,\n          \"velocity\": 0.7874015748031497,\n          \"duration\": 9.896895999999998\n        }\n];\n\nexport default cueSet1;\n","import React, { useEffect } from \"react\";\nimport PlayIcon from './PlayIcon.js';\nimport './globals';\nimport \"p5/lib/addons/p5.sound\";\nimport * as p5 from \"p5\";\nimport audio from '../audio/donuts-no-3.ogg'\nimport cueSet1 from \"./cueSet1.js\";\n\nconst P5Sketch = () => {\n\n    const Sketch = p5 => {\n\n        p5.canvas = null;\n\n        p5.framesPerSecond = 24;\n\n        p5.canvasWidth = window.innerWidth;\n\n        p5.canvasHeight = window.innerHeight;\n\n        p5.song = null;\n\n        p5.tempo = 97;\n\n        p5.time = 0;\n\n        p5.previousBeat = 0;\n\n        p5.cueSet1Completed = [];\n        \n        p5.circleSize = 0;\n\n        p5.circleSizeDivider = 1;\n\n        p5.hueIncrementor = 5;\n\n        p5.hueIncrementorValues = [0, 5, 10, 15, 15, 10, 5];\n\n        p5.preload = () => {\n            p5.song = p5.loadSound(audio);\n        }\n\n        p5.setup = () => {\n            p5.frameRate(30);\n            p5.colorMode(p5.HSB, 360, 100, 100, 100);\n            p5.canvas = p5.createCanvas(p5.canvasWidth, p5.canvasHeight); \n            p5.circleSize = p5.width / 16;\n            p5.smooth();\n\n            //p5.canvas = p5.createCanvas(600, 600);\n            p5.noFill();\n            p5.strokeWeight(2);\n\n            for (let i = 0; i < cueSet1.length; i++) {\n                let vars = {\n                    currentCue: i + 1,\n                    duration: cueSet1[i].duration,\n                    midi: cueSet1[i].midi,\n                    time: cueSet1[i].time,\n                };\n                p5.song.addCue(cueSet1[i].time, p5.executeCueSet1, vars);\n            }\n\n        };\n\n        p5.executeCueSet1 = (vars) => {\n            const currentCue = vars.currentCue;\n            if (!p5.cueSet1Completed.includes(currentCue)) {\n                p5.cueSet1Completed.push(currentCue);\n                p5.hueIncrementor = p5.hueIncrementorValues[currentCue];\n                p5.circleSizeDivider = currentCue > 3 ? p5.circleSizeDivider / 2 : p5.circleSizeDivider * 2;\n                p5.clear();\n            }\n        };\n\n        p5.draw = () => {\n            let currentBeat = p5.getSongBeat();\n            if (p5.song.isPlaying()) {\n                p5.background(10, 1); // translucent background (creates trails)\n                let hue = 0;\n\n                // make a x and y grid of ellipses\n                for (let x = 0; x <= p5.canvasWidth; x = x + p5.circleSize) {\n                    for (let y = 0; y <= p5.canvasHeight; y = y + p5.circleSize) {\n                        hue = hue > 360 ? 0 : hue + p5.hueIncrementor;\n\n                        p5.stroke(hue, 100, 100, 50);\n                        // starting point of each circle depends on mouse position\n                        const xAngle = p5.map(p5.canvasWidth, 0, p5.canvasWidth, -4 * p5.PI, 4 * p5.PI, true);\n\n                        const yAngle = p5.map(p5.canvasHeight, 0, p5.canvasHeight, -4 * p5.PI, 4 * p5.PI, true);\n                        // // and also varies based on the particle's location\n                        const angle = xAngle * (x / p5.canvasWidth) + yAngle * (y / p5.canvasHeight);\n\n                        // // each particle moves in a circle\n                        const myX = x + 20 * p5.cos(2 * p5.PI * p5.time + angle);\n                        const myY = y + 20 * p5.sin(2 * p5.PI * p5.time + angle);\n                        p5.ellipse(myX, myY, p5.circleSize / p5.circleSizeDivider); // draw particle\n                    }\n                }\n\n                if (currentBeat !== p5.previousBeat){\n                    p5.previousBeat = currentBeat;\n                    p5.time = p5.time + (0.225 / 8); // update time\n                }\n            }\n        };\n\n        p5.beatPerBar = 4;\n\n        p5.getSongBeat = () => {\n            if (p5.song && p5.song.buffer) {\n                const barAsBufferLength = (p5.song.buffer.sampleRate * 60 / p5.tempo) / 8;\n                return Math.floor(p5.song._lastPos / barAsBufferLength) + 1;\n            }\n            return -1;\n        }\n\n\n        p5.getSongBar = () => {\n            if (p5.song && p5.song.buffer) {\n                const barAsBufferLength = (p5.song.buffer.sampleRate * 60 / p5.tempo) * p5.beatPerBar;\n                return Math.floor(p5.song._lastPos / barAsBufferLength) + 1;\n            }\n            return -1;\n        }\n\n        p5.mousePressed = () => {\n            if (p5.song.isPlaying()) {\n                p5.song.pause();\n            } else {\n                document.getElementById(\"play-icon\").classList.add(\"fade-out\");\n                p5.canvas.addClass('fade-in');\n                p5.song.play();\n            }\n        };\n\n        p5.updateCanvasDimensions = () => {\n            p5.canvasWidth = window.innerWidth;\n            p5.canvasHeight = window.innerHeight;\n            p5.createCanvas(p5.canvasWidth, p5.canvasHeight);\n            p5.redraw();\n        }\n\n        if (window.attachEvent) {\n            window.attachEvent(\n                'onresize',\n                function () {\n                    p5.updateCanvasDimensions();\n                }\n            );\n        }\n        else if (window.addEventListener) {\n            window.addEventListener(\n                'resize',\n                function () {\n                    p5.updateCanvasDimensions();\n                },\n                true\n            );\n        }\n        else {\n            //The browser does not support Javascript event binding\n        }\n    };\n\n    useEffect(() => {\n        new p5(Sketch);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <>\n            <PlayIcon />\n        </>\n    );\n};\n\nexport default P5Sketch;\n","import P5Sketch from './P5Sketch'\n\nfunction App() {\n  return (\n    <P5Sketch/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/build.css';\nimport App from './js/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}